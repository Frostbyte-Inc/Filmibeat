<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/colorDarkGrey"
    android:fitsSystemWindows="true"
    tools:context=".ui.activity.MovieDetailsActivity">

    <!-- Collapsing AppBar -->
    <com.google.android.material.appbar.AppBarLayout
        android:id="@+id/appBar_details"
        android:layout_width="match_parent"
        android:layout_height="@dimen/collapsing_appbar_height"
        android:fitsSystemWindows="true"
        android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"
        app:elevation="12dp">

        <com.google.android.material.appbar.CollapsingToolbarLayout
            android:id="@+id/movie_detail_collapsing_toolbar"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:fitsSystemWindows="true"
            app:statusBarScrim="@color/colorDarkerGrey"
            app:contentScrim="@color/colorDarkerGrey"
            app:layout_scrollFlags="scroll|exitUntilCollapsed">

            <ImageView
                android:id="@+id/iv_movie_cover"
                android:layout_width="match_parent"
                android:layout_height="@dimen/collapsing_appbar_height"
                android:contentDescription="@string/movie_cover"
                android:fitsSystemWindows="true"
                android:scaleType="centerCrop"
                app:layout_collapseMode="parallax"
                tools:src="@drawable/jw_backdrop" />

            <androidx.appcompat.widget.Toolbar
                android:id="@+id/toolbar"
                android:layout_width="match_parent"
                android:layout_height="?attr/actionBarSize"
                app:layout_collapseMode="pin"
                app:popupTheme="@style/ThemeOverlay.AppCompat.Light" />

        </com.google.android.material.appbar.CollapsingToolbarLayout>
    </com.google.android.material.appbar.AppBarLayout>

    <!-- Main Content View -->
    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:scrollbars="vertical"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content">

            <!-- Title Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                app:cardBackgroundColor="@color/colorDarkGrey"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent">

                <TextView
                    android:id="@+id/tv_movie_title"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:fontFamily="sans-serif"
                    android:padding="@dimen/card_title_padding"
                    android:textAlignment="center"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent"
                    tools:text="Jurassic World: Fallen Kingdom" />
            </com.google.android.material.card.MaterialCardView>

            <com.google.android.material.card.MaterialCardView
                android:id="@+id/poster_card"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/poster_card_margin_start"
                android:layout_marginTop="@dimen/poster_card_margin_top"
                app:cardBackgroundColor="@color/colorDarkGrey"
                app:cardCornerRadius="@dimen/small_card_radius"
                app:cardElevation="@dimen/small_card_elevation"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent">

                <ImageView
                    android:id="@+id/iv_movie_poster"
                    android:layout_width="@dimen/poster_width"
                    android:layout_height="@dimen/poster_height"
                    android:contentDescription="@string/movie_poster"
                    android:scaleType="centerCrop"
                    tools:src="@drawable/jw_cover" />
            </com.google.android.material.card.MaterialCardView>

            <TextView
                android:id="@+id/tv_movie_year"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/year_margin_start"
                android:layout_marginTop="@dimen/year_margin_top"
                android:fontFamily="sans-serif"
                android:textSize="20sp"
                android:textStyle="bold"
                app:layout_constraintStart_toEndOf="@id/poster_card"
                app:layout_constraintTop_toTopOf="@id/poster_card"
                tools:text="2015" />

            <TextView
                android:id="@+id/tv_movie_rating"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:fontFamily="sans-serif"
                android:textSize="16sp"
                android:layout_marginTop="@dimen/default_margin"
                app:layout_constraintEnd_toEndOf="@id/tv_movie_year"
                app:layout_constraintStart_toStartOf="@id/tv_movie_year"
                app:layout_constraintTop_toBottomOf="@id/tv_movie_year"
                tools:text="7.8" />

            <com.google.android.material.floatingactionbutton.FloatingActionButton
                android:id="@+id/fab_favourites"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/fab_margin_top"
                android:contentDescription="@string/mark_favourite"
                android:src="@drawable/ic_favourite_outline"
                app:backgroundTint="@color/colorDarkGrey"
                app:layout_constraintEnd_toEndOf="@+id/tv_movie_year"
                app:layout_constraintStart_toStartOf="@+id/tv_movie_year"
                app:layout_constraintTop_toBottomOf="@id/tv_movie_rating"
                app:tint="@color/colorFavIcon" />

            <TextView
                android:id="@+id/textViewS"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/small_margin"
                android:layout_marginTop="@dimen/synopsis_margin_top"
                android:fontFamily="sans-serif"
                android:text="@string/synopsis"
                android:textColor="@color/colorTextLightGrey"
                android:textSize="18sp"
                android:textStyle="bold"
                app:layout_constraintStart_toStartOf="@id/description_card"
                app:layout_constraintTop_toBottomOf="@id/poster_card" />

            <!-- Description Card -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/description_card"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/normal_margin"
                android:layout_marginTop="@dimen/desc_card_top_margin"
                android:layout_marginEnd="@dimen/normal_margin"
                android:layout_marginBottom="@dimen/small_margin"
                app:cardBackgroundColor="@color/colorDarkGrey"
                app:cardCornerRadius="@dimen/small_card_radius"
                app:cardElevation="@dimen/small_card_elevation"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@id/textViewS">

                <TextView
                    android:id="@+id/tv_movie_description"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:fontFamily="sans-serif"
                    android:paddingStart="@dimen/desc_text_padding"
                    android:paddingTop="@dimen/desc_text_padding"
                    android:paddingEnd="@dimen/desc_text_padding_end"
                    android:paddingBottom="@dimen/desc_text_padding"
                    tools:text="A volcanic eruption threatens the remaining dinosaurs on the island of Isla Nublar, where the creatures have freely roamed for several years after the demise of an animal theme park known as Jurassic World. Claire Dearing, the former park manager, has now founded the Dinosaur Protection Group, an organization dedicated to protecting the dinosaurs. To help with her cause, Claire has recruited Owen Grady, a former dinosaur trainer who worked at the park, to prevent the extinction of the dinosaurs once again" />
            </com.google.android.material.card.MaterialCardView>

            <include android:id="@+id/layout_cast"
                layout="@layout/layout_cast_crew"
                android:layout_height="wrap_content"
                android:layout_width="match_parent"
                android:layout_marginTop="@dimen/default_margin"
                app:layout_constraintStart_toStartOf="@id/description_card"
                app:layout_constraintTop_toBottomOf="@id/description_card"/>

            <TextView
                android:id="@+id/textView"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/small_margin"
                android:layout_marginTop="@dimen/trailer_margin_top"
                android:fontFamily="sans-serif"
                android:text="@string/videos"
                android:visibility="invisible"
                android:textColor="@android:color/white"
                android:textSize="18sp"
                android:textStyle="bold"
                app:layout_constraintStart_toStartOf="@id/layout_cast"
                app:layout_constraintTop_toBottomOf="@id/layout_cast" />

            <!-- Trailers Card -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/video_list_card"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_margin="@dimen/trailer_card_margin"
                android:visibility="gone"
                app:cardBackgroundColor="@color/colorDarkGrey"
                app:cardCornerRadius="@dimen/small_card_radius"
                app:cardElevation="@dimen/small_card_elevation"
                app:layout_constraintStart_toStartOf="@id/textView"
                app:layout_constraintTop_toBottomOf="@id/textView">

                <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/rv_video_list"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:clipToPadding="false" />

                <TextView
                    android:id="@+id/tv_video_failed"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:fontFamily="sans-serif"
                    android:gravity="center"
                    android:padding="16dp"
                    android:text="@string/err_check_internet"
                    android:textColor="@android:color/white"
                    android:textSize="14sp"
                    android:textStyle="italic"
                    android:visibility="gone" />
            </com.google.android.material.card.MaterialCardView>

            <!-- Review Card -->
            <RelativeLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/default_margin"
                android:visibility="gone"
                android:background="@color/colorDarkerGrey"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toBottomOf="@id/video_list_card">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:fontFamily="sans-serif"
                    android:padding="22dp"
                    android:text="@string/reviews"
                    android:textColor="@android:color/white"
                    android:textSize="18sp"
                    android:textStyle="bold" />

                <ImageView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignParentEnd="true"
                    android:layout_centerVertical="true"
                    android:padding="@dimen/default_padding"
                    android:src="@drawable/ic_forward"
                    android:contentDescription="@string/read_reviews" />
            </RelativeLayout>
        </androidx.constraintlayout.widget.ConstraintLayout>
    </androidx.core.widget.NestedScrollView>
</androidx.coordinatorlayout.widget.CoordinatorLayout>